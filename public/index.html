<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Farman - Actualités Aéronautiques</title>
    <meta name="description" content="Farman publie des actualités sur les compagnies aériennes, les aéroports, les bons plans pour prendre l'avion et les voyages chaque semaine pour tout savoir sur le transport aérien et l'aviation civile en France.">
    <meta name="author" content="Farman, farman.bonjour@outlook.fr">
    <meta name="og:image" content="https://yt3.ggpht.com/KxJAFzO7BOdDhwvkfjYN1tWHH43pPKLIs2CCq1YZSRbkjhDtn15pu03Xid5AV1Lc-UeDpMo8=w1138-fcrop64=1,00005a57ffffa5a8-k-c0xffffffff-no-nd-rj">
    <meta name="github" content="https://github.com/Aryqs-Ipsum/farman-info">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&family=Material+Icons+Sharp&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="/assets/farman_favicon.png" />

    <!-- loading animation -->
    <style>
        #plane-svg {
            color: #9cd7db;
            height: 250px;
            position: absolute;
            top: 50%;
            left: -250px;
            transform: rotate(90deg) translateX(-50%);
            animation: forward 5s cubic-bezier(0, 0, 0, 1) forwards;
        }
        #message {
            position: absolute;
            bottom: 10vh;
            left: 50%;
            transform: translateX(-50%);
            color: #fff;
            font-family: 'Inter', Arial, Helvetica, sans-serif;
            font-weight: 500;
            font-size: 16px;
            animation: toblack 2s steps(1, end) forwards;
        }
        #sky {
            height: 100vh;
            width: 100vw;
            background-color: #17969c;
            cursor: progress;
            animation: fadeout 5s ease-out forwards;
        }
        @keyframes forward {
            33% {
                transform: rotate(88deg) translateX(-55%);
            }
            66% {
                transform: rotate(92deg) translateX(-45%);
            }
            100% {
                left: calc(100% - 250px);
                transform: rotate(90deg) translateX(-50%);
                opacity: 0;
            }
        }
        @keyframes fadeout {
            to {
                opacity: 0;
            }
        }
        @keyframes toblack {
            to {
                color: #000;
            }
        }
    </style>
</head>

<body style="margin:0">
    <div id="app">
        <!-- loading animation -->
        <div id="sky">
            <svg viewBox="0 0 24 24" id="plane-svg">
                <path fill="currentColor" d="M21,16V14L13,9V3.5A1.5,1.5 0 0,0 11.5,2A1.5,1.5 0 0,0 10,3.5V9L2,14V16L10,13.5V19L8,20.5V22L11.5,21L15,22V20.5L13,19V13.5L21,16Z" />
            </svg>
        </div>
        <span id="message">Chargement des scripts ...</span>
        <script>
            const urlParams = new URLSearchParams(window.location.search);
            var attemps = urlParams.get('retry') || 1;
            setTimeout(() => {
                if(document.getElementById('message')) {
                    document.getElementById('message').innerText = 'Le chargement prend du temps'
                }
            }, 4000);
            setTimeout(() => {
                var i = 0
                var initTime = attemps * 15 - 3
                setInterval(() => {
                    if(document.getElementById('message') && attemps < 3) {
                        i++
                        var timeLeft = initTime - i
                        document.getElementById('message').innerText = 'Tentative de reconnexion dans ' + timeLeft + 's ...'
                    }
                }, 1000);
            }, 5000);
            setTimeout(() => {
                if(document.getElementById('message')) {
                    if(attemps < 3) {
                        attemps++
                        window.location.href = '/?retry=' + attemps
                    } else {
                        document.getElementById('message').innerText = 'Le site est inaccessible'
                    }
                }
            }, 2000 + attemps * 15000);
        </script>
    </div>
</body>

</html>